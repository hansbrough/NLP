(function(){var e=function(e){var t=e(window);e.fn.lazyload=function(n){function o(){var t=0;r.each(function(){var n=e(this);if(s.skip_invisible&&!n.is(":visible")){return}if(e.abovethetop(this,s)||e.leftofbegin(this,s)){}else if(!e.belowthefold(this,s)&&!e.rightoffold(this,s)){n.trigger("appear");t=0}else{if(++t>s.failure_limit){return false}}})}var r=this;var i;var s={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:window,data_attribute:"original",skip_invisible:true,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};if(n){if(undefined!==n.failurelimit){n.failure_limit=n.failurelimit;delete n.failurelimit}if(undefined!==n.effectspeed){n.effect_speed=n.effectspeed;delete n.effectspeed}e.extend(s,n)}i=s.container===undefined||s.container===window?t:e(s.container);if(0===s.event.indexOf("scroll")){i.bind(s.event,function(){return o()})}this.each(function(){var t=this;var n=e(t);t.loaded=false;if(n.attr("src")===undefined||n.attr("src")===false){if(n.is("img")){n.attr("src",s.placeholder)}}n.one("appear",function(){if(!this.loaded){if(s.appear){var i=r.length;s.appear.call(t,i,s)}e("<img />").bind("load",function(){var i=n.attr("data-"+s.data_attribute);n.hide();if(n.is("img")){n.attr("src",i)}else{n.css("background-image","url('"+i+"')")}n[s.effect](s.effect_speed);t.loaded=true;var o=e.grep(r,function(e){return!e.loaded});r=e(o);if(s.load){var u=r.length;s.load.call(t,u,s)}}).attr("src",n.attr("data-"+s.data_attribute))}});if(0!==s.event.indexOf("scroll")){n.bind(s.event,function(){if(!t.loaded){n.trigger("appear")}})}});t.bind("resize",function(){o()});if(/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)){t.bind("pageshow",function(t){if(t.originalEvent&&t.originalEvent.persisted){r.each(function(){e(this).trigger("appear")})}})}e(document).ready(function(){o()});return this};e.belowthefold=function(n,r){var i;if(r.container===undefined||r.container===window){i=(window.innerHeight?window.innerHeight:t.height())+t.scrollTop()}else{i=e(r.container).offset().top+e(r.container).height()}return i<=e(n).offset().top-r.threshold};e.rightoffold=function(n,r){var i;if(r.container===undefined||r.container===window){i=t.width()+t.scrollLeft()}else{i=e(r.container).offset().left+e(r.container).width()}return i<=e(n).offset().left-r.threshold};e.abovethetop=function(n,r){var i;if(r.container===undefined||r.container===window){i=t.scrollTop()}else{i=e(r.container).offset().top}return i>=e(n).offset().top+r.threshold+e(n).height()};e.leftofbegin=function(n,r){var i;if(r.container===undefined||r.container===window){i=t.scrollLeft()}else{i=e(r.container).offset().left}return i>=e(n).offset().left+r.threshold+e(n).width()};e.inviewport=function(t,n){return!e.rightoffold(t,n)&&!e.leftofbegin(t,n)&&!e.belowthefold(t,n)&&!e.abovethetop(t,n)};e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})};(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof exports==="object"){e(require("jquery"))}else{e(jQuery,window,document)}})(e)})()